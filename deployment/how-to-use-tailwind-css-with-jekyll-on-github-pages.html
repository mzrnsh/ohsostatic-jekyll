<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">

    <title>How to use Tailwind CSS with Jekyll on GitHub Pages &middot; OhSoStatic Jekyll</title>

    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  </head>

  <body class="bg-slate-900 text-slate-300 font-light min-h-full">
    <header class="p-4 max-w-5xl mx-auto flex justify-between items-center">
      <a href="/">
        <img src="/assets/img/logo.svg" class="w-60">
      </a>

      <div class="flex gap-2 items-center">
        <span class="text-sm sr-only sm:not-sr-only">
          Get updates via
        </span>

        <a href="#" class="
          inline-flex items-center sm:rounded-md rounded-full border
          border-cyan-600 p-2 sm:px-3 text-sm leading-4 text-cyan-400
          shadow-sm hover:bg-cyan-500 hover:text-white focus:outline-none
          focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2
          focus:ring-offset-cyan-200
        ">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            fill="currentColor"
            class="sm:-ml-0.5 h-4 w-4"
            aria-hidden="true"
          >
            <path d="
              M3.75 3a.75.75 0 00-.75.75v.5c0 .414.336.75.75.75H4c6.075 0 11
              4.925 11 11v.25c0 .414.336.75.75.75h.5a.75.75 0 00.75-.75V16C17
              8.82 11.18 3 4 3h-.25z
            " />

            <path d="
              M3 8.75A.75.75 0 013.75 8H4a8 8 0 018 8v.25a.75.75 0
              01-.75.75h-.5a.75.75 0 01-.75-.75V16a6 6 0 00-6-6h-.25A.75.75 0
              013 9.25v-.5zM7 15a2 2 0 11-4 0 2 2 0 014 0z
            " />
          </svg>

          <span class="sr-only sm:not-sr-only sm:ml-2">
            RSS
          </span>
        </a>

        <a href="#" class="
          inline-flex items-center sm:rounded-md rounded-full border
          border-rose-600 p-2 sm:px-3 text-sm leading-4 text-rose-400
          shadow-sm hover:bg-rose-500 hover:text-white focus:outline-none
          focus:ring-2 focus:ring-rose-500 focus:ring-offset-2
          focus:ring-offset-rose-200
        ">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            fill="currentColor"
            class="sm:-ml-0.5 h-4 w-4"
            aria-hidden="true"
          >
            <path d="
              M3 4a2 2 0 00-2 2v1.161l8.441 4.221a1.25 1.25 0 001.118 0L19
              7.162V6a2 2 0 00-2-2H3z
            " />

            <path d="
              M19 8.839l-7.77 3.885a2.75 2.75 0 01-2.46 0L1 8.839V14a2 2 0 002
              2h14a2 2 0 002-2V8.839z
            " />
          </svg>

          <span class="sr-only sm:not-sr-only sm:ml-2">
            Email
          </span>
        </a>
      </div>
    </header>

    <main class="bg-slate-800">
  <div class="p-4 max-w-5xl mx-auto">
    <article id="post" class="
      my-12 prose max-w-none prose-slate lg:prose-lg prose-headings:font-medium
      prose-p:text-slate-300 prose-headings:text-slate-50
      prose-a:text-cyan-400 prose-strong:text-slate-300
      prose-ol:text-slate-300 marker:text-inherit prose-img:mx-auto
      prose-img:rounded-lg prose-img:shadow-md prose-img:max-w-2xl
    ">
      <h1>
        How to use Tailwind CSS with Jekyll on GitHub Pages
      </h1>

      <p><strong>OhSoStatic Jekyll</strong> is built with Jekyll, styled with Tailwind CSS, and hosted
on GitHub Pages. That combination doesn’t quite work out of box. Tailwind CSS
requires PostCSS to compile and while Jekyll has a PostCSS plugin, it’s not
currently <a href="https://pages.github.com/versions/" target="_blank">whitelisted</a>,
meaning Tailwind CSS won’t be included in the default build produced by GitHub
Pages. Let’s fix this via GitHub Actions.</p>

<h2 id="prerequisite-a-jekyll--tailwind-css-site-that-works-locally">Prerequisite: a Jekyll + Tailwind CSS site that works locally</h2>

<p>This tutorial assumes you already have a working Jekyll + Tailwind CSS website
that’s successfully built locally, but when you try to deploy it to GitHub
Pages, styles are not applied.</p>

<p>If that’s not true and you’re looking for general help on how to use Tailwind
CSS with Jekyll, look no further than this <a href="https://mzrn.sh/2022/04/09/starting-a-blank-jekyll-site-with-tailwind-css-in-2022/" target="_blank">brilliant article</a>.</p>

<h2 id="step-1-update-the-lockfile">Step 1: update the lockfile</h2>

<p>Open your <code class="language-plaintext highlighter-rouge">Gemfile.lock</code>. Do you see <code class="language-plaintext highlighter-rouge">x86_64-linux</code> under <code class="language-plaintext highlighter-rouge">PLATFORMS</code>? If yes,
all good. If not, run this command in your terminal:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle lock <span class="nt">--add-platform</span> x86_64-linux
</code></pre></div></div>

<h2 id="step-2-confirm-jekyll-config-is-correct">Step 2: confirm Jekyll config is correct</h2>

<p>This step is tehnically not related to this tutorial, but it’s quite possible
that someone might dismiss a working setup as broken because of a wrong
stylesheet link, so let’s include it anyway.</p>

<p>Will you be using a custom domain? Great, your <code class="language-plaintext highlighter-rouge">_config.yml</code> should start like
this:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># _config.yml</span>

<span class="na">url</span><span class="pi">:</span> <span class="s1">'</span><span class="s">https://your-domain.com'</span>
<span class="na">baseurl</span><span class="pi">:</span> <span class="s1">'</span><span class="s">'</span>

<span class="c1"># ..rest of the config</span>
</code></pre></div></div>

<p>Planning to go with <strong>your-name.github.io</strong> option? Nice, just make sure your
<code class="language-plaintext highlighter-rouge">_config.yml</code> starts with the following:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># _config.yml</span>

<span class="na">url</span><span class="pi">:</span> <span class="s1">'</span><span class="s">https://your-name.github.io'</span>
<span class="na">baseurl</span><span class="pi">:</span> <span class="s1">'</span><span class="s">your-repo-name'</span>

<span class="c1"># ..rest of the config</span>
</code></pre></div></div>

<h2 id="step-3-create-a-github-workflow">Step 3: create a GitHub Workflow</h2>

<p>Create a new YAML file in <code class="language-plaintext highlighter-rouge">.github/workflows/</code> directory. Since it’s all about
GitHub Pages, let’s call it <code class="language-plaintext highlighter-rouge">github-pages.yml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># .github/workflows/github-pages.yml</span>

<span class="na">name</span><span class="pi">:</span> <span class="s">Build and deploy this site to GitHub Pages</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">main</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">github-pages</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">ruby/setup-ruby@v1</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">ruby-version</span><span class="pi">:</span> <span class="m">3.1</span>
          <span class="na">bundler-cache</span><span class="pi">:</span> <span class="no">true</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Setup Node</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/setup-node@v2</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">node-version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">18'</span>
      <span class="pi">-</span> <span class="na">run</span><span class="pi">:</span> <span class="s">npm install</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build site</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">limjh16/jekyll-action-ts@v2</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">enable_cache</span><span class="pi">:</span> <span class="no">true</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Deploy</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">peaceiris/actions-gh-pages@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">github_token</span><span class="pi">:</span> <span class="s">${{ secrets.GITHUB_TOKEN }}</span>
          <span class="na">publish_dir</span><span class="pi">:</span> <span class="s">./_site</span>
</code></pre></div></div>

<p>You can now commit this file and push this and all previous changes to GitHub.</p>

<p>Because the repository now includes this workflow, pushing to the <code class="language-plaintext highlighter-rouge">main</code> branch
will trigger a custom build instead of a standard one, and the generated <code class="language-plaintext highlighter-rouge">_site</code>
directory will be pushed to the <code class="language-plaintext highlighter-rouge">gh-pages</code> branch.</p>

<p>A couple notes about that branch:</p>

<ol>
  <li>It will be created and updated automatically by the workflow. You don’t need
to create it manually now and you won’t ever need to push to it directly in
future.</li>
  <li>Branch name <code class="language-plaintext highlighter-rouge">gh-pages</code> is not as magical as it used to be: GitHub
Pages can now work with <em>any</em> branch. But the GitHub action <code class="language-plaintext highlighter-rouge">peaceiris/actions-gh-pages</code>
uses that name, and since our workflow relies on it, that’s what we’ll go with.</li>
</ol>

<h2 id="step-4-configure-github-pages">Step 4: configure GitHub Pages</h2>

<p>Open your repository on GitHub and navigate to Settings &gt; Pages. In the <strong>Build
and deployment</strong> section there are two dropdown controlls: <strong>Source</strong> and
<strong>Branch</strong>. Make sure their values are set to <strong>Deploy from a branch</strong> and
<strong>gh-pages</strong> respectively.</p>

<p>It may seem confusing that we are <em>not</em> selecting the <strong>GitHub Actions</strong> option
in <strong>Source</strong>, but we don’t need to: as far as GitHub Pages is concerned we are
telling it to deploy a normal branch that contains a pre-built static website.
It doesn’t even know (or care) that the website was built with Jekyll, or that
it was styled via Tailwind CSS.</p>

<p><img src="/assets/img/gh-pages_settings.png" alt="GitHub Pages Settings" /></p>

<p>Does your screen look like that? 👆</p>

<p>Then, that should be it! 🥳 If I didn’t miss anything writing this tutorial,
and you didn’t miss anything reading it, your Jekyll website should now look the
same on GitHub Pages as it does on your machine.</p>

    </article>
  </div>
</main>


    <hr class="border-rose-900">

    <footer class="p-4 max-w-5xl mx-auto text-sm text-center">
      <p>
        2022 &copy;

        <a href="https://ohsostatic.com">
          OhSoStatic
        </a>
      </p>
    </footer>
  </body>
</html>
